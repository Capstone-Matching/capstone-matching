<head>
  <title>Admin Landing Page</title>
</head>
<body>
  <%= render 'shared/admin_page_header' %>
  <%= render 'shared/notification' %>
  <div class="container table-responsive">
    <%= form_with(url: delete_students_path, method: "post", id: "manage-students-form") do |form| %>
      <table class="table table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>Email</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Course</th>
            <th>Gender</th>
            <th>Nationality</th>
            <th>Work Authorization</th>
            <th>Willingness to Sign Contracts</th>
            <th>Delete?</th>
          </tr>
        </thead>
        <tbody>
          <% if @students.present? %>
            <% @students.each do |user| %>
              <% student = user.student %>
              <tr>
                <td><%= user.email %></td>
                <td><%= user.first_name %></td>
                <td><%= user.last_name %></td>
                <td><%= "CSCE " + student.course.course_number.to_s + "-" + student.course.section.to_s + "-" + student.course.semester %></td>
                <td><%= student.gender %></td>
                <td><%= student.nationality %></td>
                <td><%= student.work_auth %></td>
                <td><%= student.contract_sign %></td>
                <td>
                  <%= form.check_box "delete_students_emails[]", { value: user.email }, user.email, nil %>
                </td>
              </tr>
            <% end %>
          <% end %>      
        </tbody>
      </table>
      <div class="d-flex justify-content-center align-items-center">
        <%= form.button "Delete Students", class: "btn btn-danger m-2", id: "save-button" %>
      </div>
    <% end %>  
</body>